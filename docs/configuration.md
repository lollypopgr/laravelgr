# Διαμόρφωση

- [Εισαγωγή](#introduction)
- [Διαμόρφωση περιβάλλοντος](#environment-configuration)
- [Λειτουργία συντήρησης](#maintenance-mode)

<a name="introduction"></a>
## Εισαγωγή

Όλα τα αρχεία για την διαμόρφωση του Laravel είναι αποθηκευμένα στον φάκελο `app/config`. Κάθε επιλογή σε κάθε αρχείο είναι σχολιασμένη, οπότε μπορείτε να εξοικειωθείτε μαζί τους διαβάζοντάς τες.

Κάποιες φορές μπορεί να θελήσετε να έχετε πρόσβαση σε κάποιες τιμές διαμόρφωσης κατά τον χρόνο εκτέλεσης της εφαρμογής σας. Μπορείτε να το κάνετε αυτό με την χρήση της κλάσης `Config`:

#### Έχοντας πρόσβαση σε μια τιμή διαμόρφωσης

	Config::get('app.timezone');

Μπορείτε επίσης να καθορίσετε μια προεπιλεγμένη τιμή για να επιστρέψετε σε περίπτωση που η συγκεκριμένη επιλογή διαμόρφωσης δεν υπάρχει:

	$timezone = Config::get('app.timezone', 'UTC');

Να σημειωθέι ότι ο τρόπος σύνταξης με χρήση "dot" μπορεί να χρησιμοποιηθεί για να έχετε πρόσβαση σε τιμές διαφόρων αρχείων. Μπορείτε επίσης να ορίσετε τιμές διαμόρφωσης κατά τον χρόνο εκτέλεσης της εφαρμογής σας:

#### Ορίζοντας μια τιμή διαμόρφωσης

	Config::set('database.default', 'sqlite');

Οι τιμές διαμόρφωσης που ορίζονται κατά τον χρόνο εκτέλεσης της εφαρμογής, χρησιμοποιούνται μόνο για το τρέχον αίτημα, και δεν μπορούν να χρησιμοποιηθούν από επιπλέον αιτήματα.

<a name="environment-configuration"></a>
## Περιβάλλον διαμόρφωσης

Συχνά βοηθάει να υπάρχουν διαφορετικές τιμές διαμόρφωσης βασιζόμενες στο περιβάλλον το οποίο "τρέχει" η εφαρμογή μας. Για παράδειγμα, μπορεί να θέλετε να χρησιμοποιήσετε διαφορέτικό οδηγό μνήμης cache στο τοπικό σας μηχάνημα απ'ότι στον εξυπηρετητή παραγωγής (production server). Μπορείτε να το κάνετε αυτό με την χρήση της διαμόρφωσης περιβάλλοντος.

Απλά δημιουργήστε έναν φάκελο μέσα στην τοποθεσία `config` με το όνομα περιβάλλοντος που θέλετε, όπως για παράδειγμα `local`.  Στην συνέχεια, δημιουργήστε τα αρχεία διαμόρφωσης που θέλετε και ορίστε τις επιλογές σας για αυτό το περιβάλλον. Για παράδειγμα, αν θέλετε να παρακάμψετε τον οδηγό μνήμης cache για το περιβάλλον local, θα χρειαστεί να δημιουργήσετε ένα αρχείο με όνομα `cache.php` μέσα στον φάκελο `app/config/local` με το ακόλουθο περιεχόμενο:

	<?php

	return array(

		'driver' => 'file',

	);

> **Σημείωση:** Μην χρησιμοποιείτε σαν όνομα περιβάλλοντος το όνομα 'testing'. Το όνομα αυτό χρησιμοποιείται για unit testing.

Να σημειωθεί ότι δεν είναι απαραίτητο να ορίσετε όλες τις επιλογές που βρίσκονται στο βασικό αρχείο διαμόρφωσης, αλλά μόνο αυτές που θέλετε να αλλάξετε. Τα αρχεία διαμόρφωσης περιβάλλοντος θα παρακάμψουν τα βασικά αρχεία διαμόρφωσης.

Στην συνέχεια, πρέπει να καθοδηγήσουμε το framework ώστε να καθορίσει ποιό περιβάλλον χρησιμοποιεί. Το προεπιλεγμένο περιβάλλον είναι πάντα το `production`. Παρόλαυτα, μπορείτε να ορίσετε διαφορετικό περιβάλλον μέσα στο αρχείο `bootstrap/start.php`. Μέσα σε αυτό το αρχείο θα βρείτε μια κλήση της μεθόδου `$app->detectEnvironment`. Ο πίνακας που δίνεται ως παράμετρος σε αυτή την μέθοδο χρησιμοποιείται για να καθοριστεί το τρέχον περιβάλλον. Μπορείτε να εισάγετε διαφορετικά περιβάλλοντα και ονόματα μηχανημάτων στον πίνακα αυτό.

    <?php

    $env = $app->detectEnvironment(array(

        'local' => array('your-machine-name'),

    ));

Σε αυτό το παράδειγμα, το όνομα περιβάλλοντος είναι 'local' και το όνομα του μηχανήματος εξυπηρετητή είναι 'your-machine-name'. Σε περιβάλλοντα Linux και Mac, μπορείτε να ορίσετε το όνομα του μηχανήματός σας με την χρήση της εντολής τερματικού `hostname`.

Αν χρειάζεστε ένα πιο ευέλικτο τρόπο ανίχνευσης περιβάλλοντος, μπορείτε να το κάνετε με την χρήση `Closure` στην μέθοδο `detectEnvironment`, επιτρέποντας σας έτσι να ανιχνέυσετε ένα περιβάλλον με τον τρόπο που εσείς επιθυμείτε:

	$env = $app->detectEnvironment(function()
	{
		return $_SERVER['MY_LARAVEL_ENV'];
	});

Μπορείτε να έχετε πρόσβαση στο τρέχον περιβάλλον της εφαρμογής σας με την χρήση της μεθόδου `environment`:

#### Έχοντας πρόσβαση στο τρέχον περιβάλλον της εφαρμογής σας

	$environment = App::environment();

Μπορείτε επίσης να ορίσετε μεταβλητές μέσα στην μέθοδο `environment` ώστε να ελέγξετε αν το περιβάλλον σας ταιρίαζει με την δοσμένη τιμή:

	if (App::environment('local'))
	{
		// Το περιβάλλον έχει το όνομα 'local'
	}

	if (App::environment('local', 'staging'))
	{
		// Το περιβάλλον είτε έχει το όνομα 'local', είτε το όνομα 'staging'...
	}

<a name="maintenance-mode"></a>
## Λειτουργία συντήρησης

Όταν η εφαρμογή σας βρίσκεται σε λειτουργία συντήρησης, θα προβάλλεται μια συγκεκριμένη οθόνη για όλα τα routes της εφαρμογής σας. Με αυτό τον τρόπο μπορείτε να κάνετε "disable" την εφαρμογή σας ενώ αυτή αναβαθμίζεται ή συντηρείται. Ένα παράδειγμα κλήσης της μεθόδου `App::down` υπάρχει ήδη μέσα στο αρχείο `app/start/global.php`. Η απάντηση αυτής της μεθόδου θα σταλεί στους χρήστες όταν η εφαρμογή σας βρίσκεται σε λειτουργία συντήρησης.

Για να ενεργοποιήσετε την λειτουργία συντήρησης, απλά εκτελέστε την εντολή Artisan `down`:

	php artisan down

Για να απενεργοποιήσετε την λειτουργία συντήρησης, χρησιμοποιείστε την εντολή `up`:

	php artisan up

Για να προβάλλετε μια συγκεκριμένη οθόνη την στιγμή που η εφαρμογή σας είναι σε λειτουργία συντήρησης, μπορείτε να προσθέσετε κάτι παρόμοιο με το παρακάτω, στο αρχείο `app/start/global.php` της εφαρμογής σας:

	App::down(function()
	{
		return Response::view('maintenance', array(), 503);
	});

Εάν το Closure που χρησιμοποιήθηκε στην μέθοδο `down` επιστρέψει την τιμή `NULL`, η λειτουργία συντήρησης θα αγνοηθεί.

### Λειτουργία συντήρησης και ουρές

Όσο η εφαρμογή σας βρίσκεται σε λειτουργία συντήρησης, καμία δουλειά ουράς [queue jobs](/docs/queues) δεν θα μπορεί να εξυπηρετηθεί. Οι δουλείες θα συνεχίσουν να εξυπηρετούνται όπως και πριν, όταν η εφαρμογή σας σταματήσει να βρίσκεται σε λειτουργία συντήρησης.
