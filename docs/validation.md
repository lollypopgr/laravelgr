# Επικύρωση

- [Βασική Χρήση](#basic-usage)
- [Εργασία Με Τα Μηνύματα Σφάλματος](#working-with-error-messages)
- [Μηνύματα Σφάλματος & Όψεις](#error-messages-and-views)
- [Διαθέσιμοι Κανόνες Επικύρωσης](#available-validation-rules)
- [Προσθέτοντας Κανόνες Υπό Προϋποθέσεις](#conditionally-adding-rules)
- [Προσαρμοσμένα Μηνύματα Σφάλματος](#custom-error-messages)
- [Προσαρμοσμένοι Κανόνες Επικύρωσης](#custom-validation-rules)

<a name="basic-usage"></a>
## Βασική χρήση

Το Laravel συνοδεύεται από ένα απλό και βολικό εργαλείο για την επικύρωση των δεδομένων και την εμφάνιση των σφαλμάτων επικύρωσης μέσω της κλάσης `Validation`.

#### Βασικό Παράδειγμα Επικύρωσης

    $validator = Validator::make(
		array('name' => 'Dayle'),
		array('name' => 'required|min:5')
	);

Το πρώτο όρισμα της μεθόδου `make` είναι το πεδίο υπό επικύρωση. Το δεύτερο όρισμα είναι ο κανόνας επικύρωσης που πρέπει να εφαρμοσθεί στο πεδίο.

Μπορείτε να χρησιμοποιήσετε πολλαπλούς κανόνες επικύρωσης είτε χρησιμοποιώντας το χαρακτήρα "pipe" είτε ως διαφορετικά στοιχεία μίας μήτρας.

#### Χρησιμοποιώντας Μήτρες Για Τον Ορισμό Κανόνων

	$validator = Validator::make(
		array('name' => 'Dayle'),
		array('name' => array('required', 'min:5'))
	);

#### Επικύρωση Πολλαπλών Πεδίων

    $validator = Validator::make(
        array(
            'name' => 'Dayle',
            'password' => 'lamepassword',
            'email' => 'email@example.com'
        ),
        array(
            'name' => 'required',
            'password' => 'required|min:8',
            'email' => 'required|email|unique:users'
        )
    );

Έπειτα από τη δημιουργία ενός στιγμιότυπου της κλάσης `Validator`, μπορείτε να χρησιμοποιήσετε τη μέθοδο `fails` (ή την `passes`) για την εκτέλεση της επικύρωσης.

	if ($validator->fails())
	{
		// Τα δεδομένα δεν πέρασαν την επικύρωση
	}

Αν η επικύρωση αποτύχει, μπορείτε να ανακτήσετε τα μηνύματα σφάλματος από τον επικυρωτή.

	$messages = $validator->messages();

Μπορείτε ακόμη να αποκτήσετε πρόσβαση στη μήτρα των κανόνων επικύρωσης που απέτυχαν, χωρίς τα μηνύματά τους. Για να το κάνετε αυτό, χρησιμοποιήστε τη μέθοδο `failed`:

	$failed = $validator->failed();

#### Επικύρωση Αρχείων

Η κλάση `Validator` παρέχει αρκετούς κανόνες για την επικύρωση αρχείων, όπως οι κανόνες `size`, `mimes` και άλλοι. Κατά την επικύρωση αρχείων, μπορείτε να τους περάσετε στον επικυρωτή μαζί με τα υπόλοιπα δεδομένα σας.

<a name="working-with-error-messages"></a>
## Εργασία με τα Μηνύματα Σφάλματος

Μετά την κλήση της μεθόδου `messages` στο στιγμιότυπο της κλάσης `Validator`, θα λάβετε μία μεταβλητή τύπου `MessageBag`, η οποία διαθέτει μία ποικιλία από βολικές μεθόδους για να εργαστείτε με τα μηνύματα σφάλματος.

#### Λήψη Του Πρώτου Μηνύματος Σφάλματος Ενός Πεδίου

	echo $messages->first('email');

#### Λήψη Όλων Των Μηνυμάτων Σφάλματος Ενός Πεδίου

	foreach ($messages->get('email') as $message)
	{
		//
	}

#### Λήψη Όλων Των Μηνυμάτων Σφάλματος Για Όλα τα Πεδία

	foreach ($messages->all() as $message)
	{
		//
	}

#### Καθορίζοντας Αν Υπάρχουν Μηνύματα Για Ένα Πεδίο

	if ($messages->has('email'))
	{
		//
	}

#### Λήψη Ενός Μηνύματος Σφάλματος Χωρίς Μορφοποίηση

	echo $messages->first('email', '<p>:message</p>');

> **Σημείωση:** Εξ ορισμοί, τα μηνύματα είναι μορφοποιημένα με σύνταξη συμβατή με το Bootstrap.

#### Λήψη Όλων Των Μηνυμάτων Σφάλματος Με Μορφοποίηση

	foreach ($messages->all('<li>:message</li>') as $message)
	{
		//
	}

<a name="error-messages-and-views"></a>
## Μηνύματα Σφάλματος και Όψεις

Μόλις κάνετε επικύρωση, θα έχετε έναν εύκολο τρόπο για να λάβετε τα μηνύματα σφάλματος στις Όψεις σας. Αυτό το χειρίζεται βολικά το Laravel. Σκεφτείτε, για παράδειγμα, τις ακόλουθες Δρομολογήσεις:

	Route::get('register', function()
	{
		return View::make('user.register');
	});

	Route::post('register', function()
	{
		$rules = array(...);

		$validator = Validator::make(Input::all(), $rules);

		if ($validator->fails())
		{
			return Redirect::to('register')->withErrors($validator);
		}
	});

Σημειώστε ότι, όταν αποτύχει η επικύρωση, περνάμε το στιγμιότυπο του `Validator` στο Redirect χρησιμοποιώντας τη μέθοδο `withErrors`. Αυτή η μέθοδος θα φλασάρει τα μηνύματα σφάλματος στο session ώστε να είναι διαθέσιμα στο επόμενο αίτημα.

Όμως, παρατηρήστε ότι δεν απαιτείται να ενώσουμε ρητά τα μηνύματα σφάλματος με την Όψη στον ορισμό της Δρομολόγησης GET. Αυτό συμβαίνει γιατί το Laravel πάντα ελέγχει για μηνύματα σφάλματος στα δεδομένα του session και αυτόματα θα τα ενώσει με την Όψη αν είναι διαθέσιμα. **Έτσι είναι σημαντικό να σημειώσετε ότι θα είναι πάντα διαθέσιμη μία μεταβλητή `$error` σε όλες τις Όψεις σας, σε κάθε αίτημα**, κάτι που σας επιτρέπει να υποθέτετε ότι η μεταβλητή `$errors` ορίζεται πάντα και μπορεί να χρησιμοποιηθεί με ασφάλεια. Η μεταβλητή `$errors` είναι στιγμιότυπο της κλάσης `MessageBag`.

Έτσι, μετά την επικύρωση, μπορείτε να χρησιμοποίησετε τη μεταβλητή `$errors` στην Όψη σας:

	<?php echo $errors->first('email'); ?>

<a name="available-validation-rules"></a>
## Διαθέσιμοι Κανόνες Επικύρωσης

Παρακάτω είναι ένας κατάλογος με τους κανόνες και τη λειτουργία τους:

- [Accepted](#rule-accepted)
- [Active URL](#rule-active-url)
- [After (Ημερομηνία)](#rule-after)
- [Alpha](#rule-alpha)
- [Alpha Dash](#rule-alpha-dash)
- [Alpha Numeric](#rule-alpha-num)
- [Before (Ημερομηνία)](#rule-before)
- [Between](#rule-between)
- [Confirmed](#rule-confirmed)
- [Date](#rule-date)
- [Date Format](#rule-date-format)
- [Different](#rule-different)
- [Digits](#rule-digits)
- [Digits Between](#rule-digits-between)
- [E-Mail](#rule-email)
- [Exists (Βάση Δεδομένων)](#rule-exists)
- [Image (Αρχείο)](#rule-image)
- [In](#rule-in)
- [Integer](#rule-integer)
- [IP Address](#rule-ip)
- [Max](#rule-max)
- [MIME Types](#rule-mimes)
- [Min](#rule-min)
- [Not In](#rule-not-in)
- [Numeric](#rule-numeric)
- [Regular Expression](#rule-regex)
- [Required](#rule-required)
- [Required If](#rule-required-if)
- [Required With](#rule-required-with)
- [Required Without](#rule-required-without)
- [Required Without All](#rule-required-without-all)
- [Same](#rule-same)
- [Size](#rule-size)
- [Unique (Βάση Δεδομένων)](#rule-unique)
- [URL](#rule-url)

<a name="rule-accepted"></a>
#### accepted

Το υπό επικύρωση πεδίο πρέπει να έχει τιμή _yes_, _on_, ή _1_. Αυτός ο κανόνας είναι χρήσιμος για την επικύρωση της αποδοχής των "Όρων Χρήσης".

<a name="rule-active-url"></a>
#### active_url

Το υπό επικύρωση πεδίο πρέπει να είναι έγκυρο URL σύμφωνα με τη συνάρτηση `checkdnsrr` της PHP.

<a name="rule-after"></a>
#### after:_ημερομηνία_

Το υπό επικύρωση πεδίο πρέπει να έχει τιμή έπειτα από τη δεδομένη ημερομηνία. Οι ημερομηνίες θα περάσουν στη συνάρτηση `strtotime` της PHP.

<a name="rule-alpha"></a>
#### alpha

Το υπό επικύρωση πεδίο πρέπει αποτελείται από αλφαβητικούς χαρακτήρες.

<a name="rule-alpha-dash"></a>
#### alpha_dash

Το υπό επικύρωση πεδίο πρέπει περιέχει αλφαριθμητικούς χαρακτήρες, καθώς επίσης και παύλες ή κάτω παύλες.

<a name="rule-alpha-num"></a>
#### alpha_num

Το υπό επικύρωση πεδίο πρέπει να περιέχει αλφαριθμητικούς χαρακτήρες.

<a name="rule-before"></a>
#### before:_ημερομηνία_

Το υπό επικύρωση πεδίο πρέπει να έχει τιμή πριν τη δεδομένη ημερομηνία. Οι ημερομηνίες θα περάσουν στη συνάρτηση `strtotime` της PHP.

<a name="rule-between"></a>
#### between:_ελάχιστο_,_μέγιστο_

Το υπό επικύρωση πεδίο πρέπει να έχει τιμή μεταξύ του _ελάχιστου_ και του _μέγιστου_. Κείμενα, αριθμοί και αρχεία εξετάζονται με τον ίδιο τρόπο όπως στον κανόνα `size`.

<a name="rule-confirmed"></a>
#### confirmed

Το υπό επικύρωση πεδίο πρέπει να έχει αντίστοιχο πεδίο `foo_confirmation`. Για παράδειγμα, αν το υπό επικύρωση πεδίο είναι το `password`, πρέπει να υπάρχει πεδίο με το όνομα `password_confirmation` στα δεδομένα εισόδου.

<a name="rule-date"></a>
#### date

Το υπό επικύρωση πεδίο πρέπει να είναι έγκυρη ημερομηνία με βάση τη συνάρτηση `strtotime` της PHP.

<a name="rule-date-format"></a>
#### date\_format:_μορφή_

Το υπό επικύρωση πεδίο πρέπει να ταιριάζει με την _μορφή_, σύμφωνα με τη συνάρτηση `date_parse_from_format` της PHP.

<a name="rule-different"></a>
#### different:_πεδίο_

Το υπό επικύρωση πεδίο πρέπει είναι διαφορετικό από το δεδομένο _πεδίο_.

<a name="rule-digits"></a>
#### digits:_τιμή_

Το υπό επικύρωση πεδίο πρέπει να είναι _αριθμητικό_ και να έχει μέγεθος ακριβώς όσο η _τιμή_.

<a name="rule-digits-between"></a>
#### digits\_between:_ελάχιστο_,_μέγιστο_

Το υπό επικύρωση πεδίο πρέπει να έχει μέγεθος μεταξύ του _ελάχιστου_ και _μέγιστου_.

<a name="rule-email"></a>
#### email

Το υπό επικύρωση πεδίο πρέπει να έχει μορφή e-mail διεύθυνσης.

<a name="rule-exists"></a>
#### exists:_πίνακας_,_στήλη_

Το υπό επικύρωση πεδίο πρέπει υπάρχει στο δεδομένο πίνακα Βάσης Δεδομένων.

#### Βασική Χρήση Του Κανόνα Exists

	'state' => 'exists:states'

#### Ορισμός Ενός Προσαρμοσμένου Ονόματος Στήλης

	'state' => 'exists:states,abbreviation'

Μπορείτε επίσης να ορίσετε περισσότερες προϋποθέσεις που θα προστεθούν ως ρήτρες "where" στο ερώτημα:

	'email' => 'exists:staff,email,account_id,1'

Περνώντας την τιμή `NULL` ως ρήτρα στο "where" θα προσθέσει έναν έλεγχο για τιμή `NULL` στη Βάση Δεδομένων:

	'email' => 'exists:staff,email,deleted_at,NULL'

<a name="rule-image"></a>
#### image

Το υπό επικύρωση πεδίο πρέπει να είναι εικόνα (jpeg, png, bmp, ή gif)

<a name="rule-in"></a>
#### in:_foo_,_bar_,...

Το υπό επικύρωση πεδίο πρέπει υπάρχει στο δεδομένο κατάλογο.

<a name="rule-integer"></a>
#### integer

Το υπό επικύρωση πεδίο πρέπει να έχει ακέραια τιμή.

<a name="rule-ip"></a>
#### ip

Το υπό επικύρωση πεδίο πρέπει να έχει μορφή IP διεύθυνσης.

<a name="rule-max"></a>
#### max:_τιμή_

Το υπό επικύρωση πεδίο πρέπει να είναι μικρότερο ή ίσο με την _τιμή_. Κείμενα, αριθμοί και αρχεία εξετάζονται με τον ίδιο τρόπο, όπως στον κανόνα `size`.

<a name="rule-mimes"></a>
#### mimes:_foo_,_bar_,...

Το υπό επικύρωση πεδίο πρέπει να έχει τύπο MIME που να αντιστοιχεί σε κάποια επέκταση ονόματος αρχείου του καταλόγου.

#### Βασική Χρήση Του Κανόνα MIME

	'photo' => 'mimes:jpeg,bmp,png'

<a name="rule-min"></a>
#### min:_τιμή_

Το υπό επικύρωση πεδίο πρέπει να έχει ελάχιστη _τιμή_. Κείμενα, αριθμοί, και αρχεία εξετάζονται με τον ίδιο τρόπο, όπως στον κανόνα `size`.

<a name="rule-not-in"></a>
#### not_in:_foo_,_bar_,...

Το υπό επικύρωση πεδίο δεν πρέπει να περιλαμβάνεται στον δεδομένο κατάλογο τιμών.

<a name="rule-numeric"></a>
#### numeric

Το υπό επικύρωση πεδίο πρέπει να έχει αριθμητική τιμή.

<a name="rule-regex"></a>
#### regex:_μορίβο_

Το υπό επικύρωση πεδίο πρέπει να ταιριάζει με το δεδομένο regular expression.

**Σημείωση:** Κατά τη χρήση του μοτίβου `regex`, είναι ίσως απαραίτητο να ορίσετε τους κανόνες σε μία μήτρα αντί να χρησιμοποιήσετε οριοθέτες με pipes, ειδικά αν το regular expression περιέχει χαρακτήρα pipe.

<a name="rule-required"></a>
#### required

Το υπό επικύρωση πεδίο πρέπει να είναι παρόν στα δεδομένα εισόδου.

<a name="rule-required-if"></a>
#### required\_if:_πεδίο_,_τιμή_

Το υπό επικύρωση πεδίο πρέπει να είναι παρόν αν το πεδίο_πεδίο_ είναι ίσο με την _τιμή_.

<a name="rule-required-with"></a>
#### required\_with:_foo_,_bar_,...

Το υπό επικύρωση πεδίο πρέπει να είναι παρόν _μόνο αν_ τα υπόλοιπα πεδία που παρατίθενται είναι παρόντα.

<a name="rule-required-without"></a>
#### required\_without:_foo_,_bar_,...

Το υπό επικύρωση πεδίο πρέπει να είναι παρόν _μόνο αν_ κάποιο από τα πεδία που παρατίθενται δεν είναι παρόν.

<a name="rule-required-without-all"></a>
#### required\_without\_all:_foo_,_bar_,...

Το υπό επικύρωση πεδίο πρέπει να είναι παρό _μόνο όταν_ όλα τα υπόλοιπα πεδία που παρατίθενται δεν είναι παρόντα.

<a name="rule-same"></a>
#### same:_πεδίο_

Το δεδομένο _πεδίο_ πρέπει να ταιριάζει με το πεδίο υπό επικύρωση.

<a name="rule-size"></a>
#### size:_τιμή_

Το υπό επικύρωση πεδίο πρέπει να έχει μέγεθος που να ταιριάζει με τη δεδομένη _τιμή_. Για τα δεδομένα κειμένου, η _τιμή_ αντιστοιχεί στον αριθμό των χαρακτήρων. Για τα αριθμητικά δεδομένα, η _τιμή_ αντιστοιχεί σε ακέραια τιμή. Για τα αρχεία, η _τιμή_ αντιστοιχεί σε μέγεθος αρχείου σε kilobytes.

<a name="rule-unique"></a>
#### unique:_πίνακας_,_στήλη_,_εκτός_,_idColumn_

Το υπό επικύρωση πεδίο πρέπει να είναι μοναδικό στο δεδομένο πίνακα Βάσης Δεδομένων. Αν η η _στήλη_ δεν έχει ορισθεί, θα χρησιμοποιηθεί το όνομα του πεδίου.

#### Βασική Χρήση Του Κανόνα Unique

	'email' => 'unique:users'

#### Ορισμός Ενός Προσαρμοσμένου Ονόματος Στήλης

	'email' => 'unique:users,email_address'

#### Υποχρεώνοντας Τον Κανόνα Unique Να Αγνοήσει Συγκεκριμένο ID

	'email' => 'unique:users,email_address,10'

#### Προσθήκη Επιπλέον Κανόνων Στο Where

Μπορείτε ακόμη να ορίσετε κι άλλες προϋποθέσεις που θα προστεθούν ως ρήτρες "where" στο ερώτημα:

	'email' => 'unique:users,email_address,NULL,id,account_id,1'

Στο παραπάνω κανόνα, μόνο οι γραμμές που έχουν `account_id` ίσο με `1` θα συμπεριληφθούν στον έλεγχο μοναδικότητας.

<a name="rule-url"></a>
#### url

Το υπό επικύρωση πεδίο πρέπει να έχει μορφή URL.

> **Σημείωση:** Αυτή η λειτουργία χρησιμοποιεί τη μέθοδο `filter_var` της PHP.

<a name="conditionally-adding-rules"></a>
## Πρόσθεση Κανόνων Υπό Προϋποθέσεις

Σε κάποιες περιπτώσεις, μπορεί να θέλετε να κάνετε ελέγχους επικύρωσης σε ένα πεδίο **μόνο** αν αυτό το πεδίο είναι παρόν στη μήτρα των δεδομένων εισόδου. Για να το καταφέρετε αυτό προσθέστε τον κανόνα `sometimes` στον κατάλογο των κανόνων:

	$v = Validator::make($data, array(
		'email' => 'sometimes|required|email',
	));

Στο παραπάνω παράδειγμα, το `email` θα επικυρωθεί μόνοναν αν είναι παρόν στη μήτρα `$data`.

#### Περίπλοκη Επικύρωση Υπό Προϋποθέσεις

Κάποιες φορές μπορεί να θέλετε να απαιτείται ένα πεδίο μόνον όταν ένα άλλο πεδίο έχει τιμή μεγαλύτερη του 100. Ή μπορεί να χρειάζεστε δύο πεδία να έχουν μία δεδομένη τιμή μόνον όταν κάποιο άλλο πεδίο είναι παρόν. Η πρόσθεση αυτών των κανόνων επικύρωσης δεν πρέπει να σας κάνει τη ζωή δύσκολη. Πρώτα, δημιουργήστε ένα στιγμιότυπο `Validator` με τους _στατικούς κανόνες_ που δεν αλλάζουν:

	$v = Validator::make($data, array(
		'email' => 'required|email',
		'games' => 'required|numeric',
	));

Ας υποθέσουμε ότι η web εφαρμογή μας αφορά συλλέκτες παιχνιδιών. Όταν ένας συλλέκτης εγγραφεί στην εφαρμογή μας και έχει στην κατοχή του περισσότερα από 100 παιχνίδια, θέλουμε να του ζητήσουμε να εξηγήσει γιατί έχει τόσα πολλά παιχνίδια. Για παράδειγμα, ίσως έχει κατάστημα μεταχειρισμένων παιχνιδιών ή ίσως απλά του αρέσει να τα συλλέγει. Για να βάλουμε υπό προϋποθέσεις αυτή την απαίτηση, μπορούμε να χρησιμοποιήσουμε τη μέθοδο `sometimes` στο στιγμιότυπο του `Validator`.

	$v->sometimes('reason', 'required|max:500', function($input)
	{
		return $input->games >= 100;
	});

Το πρώτο όρισμα που περνάμε στη μέθοδο `sometimes` είναι το όνομα του πεδίου που θέλουμε να επικυρώσουμε υπό προϋποθέσεις. Το δεύτερο όρισμα είναι οι κανόνες που θέλουμε να προσθέσουμε. Αν ο `Εγκλεισμός` που περνάμε ως τρίτο όρισμα επιστρέψει `true`, τότε οι κανόνες θα προστεθούν. Αυτός ο τρόπος κάνει πανεύκολη την κατασκευή περίπλοκων επικυρώσεων υπό προϋποθέσεις. Μπορείτε ακόμη να προσθέσετε επικυρώσεις υπό προϋποθέσεις για πολλά πεδία με τη μία:

	$v->sometimes(array('reason', 'cost'), 'required', function($input)
	{
		return $input->games >= 100;
	});

> **Σημείωση:** Η παράμετρος `$input` που περνάτε στον `Εγκλεισμό` θα είναι στιγμιότυπο του `Illuminate\Support\Fluent` και μπορεί να χρησιμοποιηθεί ως αντικείμενο για να προσπελάσει τα δεδομένα εισόδου και τα αρχεία σας.

<a name="custom-error-messages"></a>
## Προσαρμοσμένα Μηνύματα Σφάλματος

Αν απαιτείται, μπορείτε να χρησιμοποιήσετε προσαρμοσμένα μηνύματα σφάλματος για την επικύρωση αντί για τα προεπιλεγμένα. Υπάρχουν αρκετοί τρόποι για να ορίσετε προσαρμοσμένα μηνύματα.

#### Πέρασμα Προσαρμοσμένων Μηνυμάτων στον Επικυρωτή

	$messages = array(
		'required' => 'Το πεδίο :attribute απαιτείται.',
	);

	$validator = Validator::make($input, $rules, $messages);

*Σημείωση:* Η μεταβλητή θέσης `:attribute` θα αντικατασταθεί με το πραγματικό όνομα του πεδίου υπό επικύρωση. Μπορείτε ακόμη να χρησιμοποιήσετε και άλλες μεταβλητές θέσης στα μηνύματα επικύρωσης.

#### Άλλες Μεταβλητές Θέσης Επικύρωσης

	$messages = array(
		'same'    => 'Τα πεδία :attribute και :other πρέπει να ταιριάζουν.',
		'size'    => 'Το πεδίο :attribute πρέπει να έχει μέγεθος :size.',
		'between' => 'Το πεδίο :attribute πρέπει να είναι μεταξύ :min και :max.',
		'in'      => 'Το πεδίο :attribute πρέπει να είναι ένα από τα: :values',
	);

Κάποιες φορές μπορεί να θέλετε να ορίσετε προσαρμοσμένα μηνύματα σφάλματος μόνον για ένα συγκεκριμένο πεδίο:

#### Ορισμός Ενός Προσαρμοσμένου Μηνύματος Σφάλματος Για Ένα Δεδομένο Πεδίο

	$messages = array(
		'email.required' => 'Χρειάζεται να γνωρίζουμε την e-mail διεύθυνσή σας!',
	);

Σε κάποιες περιπτώσεις μπορεί να θέλετε να ορίσετε τα προσαρμοσμένα μηνύματά σας σε αρχείο γλώσσας αντί να τα περάσετε κατευθείαν στον `Validator`. Για να το κάνετε αυτό, προσθέστε τα μηνύματά σας στη μήτρα `custom` στο αρχείο γλώσσας `app/lang/xx/validation.php`.

<a name="localization"></a>
#### Ορισμός Προσαρμοσμένων Μηνυμάτων σε Αρχεία Γλώσσας

	'custom' => array(
		'email' => array(
			'required' => 'Χρειάζεται να γνωρίζουμε την e-mail διεύθυνσή σας!',
		),
	),

<a name="custom-validation-rules"></a>
## Προσαρμοσμένοι Κανόνες Επικύρωσης

Το Laravel παρέχει μία ποικιλία από χρήσιμους κανόνες επικύρωσης· όμως μπορεί να θέλετε να ορίσετε κάποιους δικούς σας. Ένας τρόπος εγγραφής προσαρμοσμένων κανόνων επικύρωσης είναι η χρήση της μεθόδου `Validator::extend`:

#### Εγγραφή ενός Προσαρμοσμένου Κανόνα Επικύρωσης

	Validator::extend('foo', function($attribute, $value, $parameters)
	{
		return $value == 'foo';
	});

Ο προσαρμοσμένος Εγκλεισμός επικύρωσης λαμβάνει τρία ορίσματα: το όνομα του πεδίου `$attribute` που επικυρώνεται, την τιμή `$value` του πεδίου και μία μήτρα από παραμέτρους `$parameters` που περνιώνται στον κανόνα.

Μπορείτε ακόμη να περάσετε μία κλάση και μία μέθοδο στη μέθοδο `extend` αντί για έναν Εγκλεισμό:

	Validator::extend('foo', 'FooValidator@validate');

Σημειώστε ότι πρέπει ακόμη να ορίσετε ένα μήνυμα σφάλματος για τον προσαρμοσμένο κανόνα σας. Μπορείτε να το κάνετε είτε χρησιμοποιώντας μία μήτρα με προσαρμοσμένα μηνύματα στην ίδια γραμμή είτε προσθέτοντας μία εγγραφή στο αρχείο γλώσσας της επικύρωσης

Αντί να χρησιμοποιείτε Εγκλεισμούς για να επικτείνετε τον Validator, μπορείτε ακόμη να επεκτείνετε την ίδια την κλάση του. Για να το κάνετε αυτό, γράψτε μία κλάση Validator που επεκτείνει το `Illuminate\Validation\Validator`. Μπορείτε ακόμη να προσθέσετε μεθόδους επικύρωσης στην κλάση με το πρόθεμα `validate`:

#### Επέκταση της Κλάσης Validator

	<?php

	class CustomValidator extends Illuminate\Validation\Validator {

		public function validateFoo($attribute, $value, $parameters)
		{
			return $value == 'foo';
		}

	}

Στη συνέχεια, χρειάζεται να εγγράψετε την προσαρμοσμένη επέκταση του Validator:

#### Εγγραφή ενός Προσαρμοσμένου Validator

	Validator::resolver(function($translator, $data, $rules, $messages)
	{
		return new CustomValidator($translator, $data, $rules, $messages);
	});

Όταν δημιουργείτε έναν προσαρμοσμένο κανόνα επικύρωσης, μπορεί κάποιες φορές να χρειάζεται να ορίσετε προσαρμοσμένες μεταβλητές θέσης για τα μηνύματα σφάλματος. Μπορείτε να το κάνετε αυτό δημιουργώντας έναν προσαρμοσμένο Validaror όπως περιγράφεται παραπάνω, προσθέτοντας μία συνάρτηση με όνομα `replaceXXX` στον επικυρωτή.

	protected function replaceFoo($message, $attribute, $rule, $parameters)
	{
		return str_replace(':foo', $parameters[0], $message);
	}
