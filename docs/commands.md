# Ανάπτυξη μιας Artisan εντολής

- [Εισαγωγή](#introduction)
- [Χτίζοντας μια εντολή](#building-a-command)
- [Καταγράφοντας εντολές σας](#registering-commands)
- [Καλώντας άλλες εντολές](#calling-other-commands)

<a name="introduction"></a>
## Εισαγωγή

Μαζί με τις εντολές που δίνει το Artisan, μπορείτε να φτιάξετε και εσείς τις δικές σας εντολές για να χρησιμοποιήσετε στην εφαρμογή σας. Μπορείτε να αποθηκεύσετε τις δικές σας εντολές μέσα στον φάκελο `app/commands`; Παρόλαυτα, είσαστε ελεύθεροι να επιλέξετε εσείς που θέλετε να αποθηκεύσετε τις εντολές σας μέσα στην εφαρμογή σας, πρέπει όμως να φροντίσετε το αρχείο σας να φορτώνετε αυτόματα μέσα από το `composer.json`.

<a name="building-a-command"></a>
## Χτίζοντας μια εντολή

### Δημιουργώντας την κλάση

Για να δημιουργήσετε μια νέα εντολή, μπορείτε να χρησιμοποιήσετε την εντολή Artisan `command:make`, η οποία θα δημιουργήσει ένα βασικό πρότυπο της εντολής για να σας βοηθήσει να ξεκινήσετε:

#### Δημιουργώντας μια νέα κλάση για την εντολή σας

	php artisan command:make FooCommand

Από προεπιλογή, οι εντολές που δημιουργούνται αποθηκεύονται στον φάκελο `app/commands`; Παρόλαυτα, μπορείτε να ορίσετε εσείς σε ποιοόν φάκελο θέλετε να τις αποθηκεύσετε ή να χρησιμοποιήσετε namespaces:

	php artisan command:make FooCommand --path=app/classes --namespace=Classes

Όταν δημιουργήσετε την εντολή, η επιλογή `--command` μπορεί να χρησιμοποιηθεί για να ορίσετε ένα όνομα για την εντολή σας:

	php artisan command:make AssignUsers --command=users:assign

Αν χρειαστεί να δημιουργήσετε μια εντολή για κάποιο πακέτο [workbench package](/docs/packages), χρησιμοποιήστε την επιλογή `--bench`:

	php artisan command:make AssignUsers --bench="vendor/package"

### Γράφοντας την εντολή σας

Όταν η εντολή σας έχει δημιουργηθεί, πρέπει να συμπληρώσετε το `name` και το `description` της κλάσης, τα οποία θα χρησιμοποιηθούν όταν βλέπετε την εντολή σας στην οθόνη `list`.

Η μέθοδος `fire` θα κληθεί όταν εκτελεστεί η εντολή σας. Μπορείτε να εισάγετε την λογική της μεθόδου σας μέσα σε αυτή την μέθοδο.

### Ορίσματα & Επιλογές

Οι μέθοδοι `getArguments` και `getOptions` βρίσκονται εκεί όπου μπορείτε να προσδιορίσετε οποιαδήποτε ορίσματα ή επιλογές που λαμβάνει η εντολή σας. Και οι δύο αυτές μέθοδοι επιστρέφουν έναν πίνακα από εντολές, ο οποίος αποτελείται από μια λίστα επιλογών.

Όταν ορίζετε `arguments`, ο πίνακας με τις τιμές ορισμού παρουσιάζεται κάπως έτσι:

	array($name, $mode, $description, $defaultValue)

Το όρισμα `mode` μπορεί να πάρει μια τιμή από τα ακόλουθα: `InputArgument::REQUIRED` ή `InputArgument::OPTIONAL`.

Όταν ορίζετε τα `options`, ο πίνακας με τις τιμές ορισμού παρουσιάζεται κάπως έτσι:

	array($name, $shortcut, $mode, $description, $defaultValue)

Ως επιλογή, το όρισμα `mode` μπορεί να πάρει τις ακόλουθες τιμές: `InputOption::VALUE_REQUIRED`, `InputOption::VALUE_OPTIONAL`, `InputOption::VALUE_IS_ARRAY`, `InputOption::VALUE_NONE`.

Η λειτουργία `VALUE_IS_ARRAY` υποδεικνύει ότι η επιλογή --option μπορεί να χρησιμοποιηθεί πολλές φορές όταν καλείτε την εντολή σας:

	php artisan foo --option=bar --option=baz

Η λειτουργία `VALUE_NONE` υποδεικνύει ότι η επιλογή --option χρησιμοποιείται χωρίς παράμετρο:

	php artisan foo --option

### Ανακτώντας δεδομένα εισόδου

Καθώς εκτελείται η εντολή σας, θα χρειαστεί να έχετε πρόσβαση σε τιμές ορισμάτων και επιλογών που έχουν εισαχθεί στην εφαρμογή σας. Μπορείτε να το κάνετε αυτό με την χρήση των μεθόδων `argument` και `option`:

#### Ανακτώντας την τιμή ενός ορίσματος της εντολής σας

	$value = $this->argument('name');

#### Ανακτώντας όλα τα ορίσματα της εντολής σας

	$arguments = $this->argument();

#### Ανακτώντας την τιμή μιας επιλογής της εντολής σας

	$value = $this->option('name');

#### Ανακτώντας όλες τις επιλογές της εντολής σας

	$options = $this->option();

### Γράφοντας δεδομένα εξόδου

Για να δείξετε δεδομένα εξόδου στην κονσόλα, μπορείτε να χρησιμοποιήσετε τις μεθόδους `info`, `comment`, `question` και `error`. Κάθε μια από αυτές τις μεθόδους θα χρησιμοποιήσει τα κατάλληλα χρώματα ANSI για να πετύχει τον δικό της σκοπό.

#### Στέλνοντας πληροφορίες στην κονσόλα

	$this->info('Display this on the screen');

#### Στέλνοντας ένα μήνυμα λάθους στην κονσόλα

	$this->error('Something went wrong!');

### Κάνοντας ερωτήσεις

Μπορείτε επίσης να χρησιμοποιήσετε τις μεθόδους `ask` και `confirm` ώστε να παρακινήσετε τον χρήστη να εισάγωγη κάποια δεδομένα:

#### Ρωτώντας τον χρήστη για δεδομένα εισόδου

	$name = $this->ask('What is your name?');

#### Ρωτώντας τον χρήστη για κρυφά δεδομένα εισόδου

	$password = $this->secret('What is the password?');

#### Ζητώντας επιβεβαίωση από τον χρήστη

	if ($this->confirm('Do you wish to continue? [yes|no]'))
	{
		//
	}

Μπορείτε επίσης να προσδιορίσετε μια προεπιλεγμένη τιμή στην μέθοδο `confirm`, η οποία μπορεί να είναι `true` ή `false`:

	$this->confirm($question, true);

<a name="registering-commands"></a>
## Καταγράφοντας τις εντολές σας

Μόλις φτιάξετε την εντολή σας, πρέπει να την καταγράψετε με το Artisan ώστε να είναι διαθέσιμη για χρήση. Αυτό συνήθως γίνεται μέσα στο αρχείο `app/start/artisan.php`. Για να καταγράψετε την εντολή σας, μπορείτε να χρησιμοποιήσετε την μέθοδο `Artisan::add`:

#### Καταγράφοντας την Artisan εντολή σας

	Artisan::add(new CustomCommand);

Αν η εντολή σας είναι καταγεγραμμένη μέσα στην εφαρμογή [IoC container](/docs/ioc), μπορείτε να χρησιμοποιήσετε την μέθοδο `Artisan::resolve` ώστε να την κάνετε διαθέσιμη στο Artisan:

#### Καταγράφοντας μια εντολή μέσα στην εφαρμογή IoC Container

	Artisan::resolve('binding.name');

<a name="calling-other-commands"></a>
## Καλώντας άλλες εντολές

Κάποιες φορές μπορεί να θελήσετε να καλέσετε άλλες εντολές μέσα από την δική σας εντολή. Μπορείτε να το κάνετε αυτό με την χρήση της μεθόδου `call`:

#### Καλώντας μια άλλη εντολή

	$this->call('command:name', array('argument' => 'foo', '--option' => 'bar'));
